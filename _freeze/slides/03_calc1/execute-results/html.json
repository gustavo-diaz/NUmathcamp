{
  "hash": "f0bae992f1519d554c441e1ecdf18e3c",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Calculus I\"\nauthor: \"NU Social Science Math Camp\"\nformat: \n  revealjs:\n    embed-resources: true\n    slide-number: false\n    progress: false\n    code-line-numbers: false\n    code-overflow: wrap\n---\n\n\n## What have we learned so far?\n\nFoundational ideas behind what you will have to deal with during your graduate program:\n\n::: incremental\n- Reading about methods $\\rightarrow$ Notation, sets, functions\n- Working with *data frames* $\\rightarrow$ Matrix operations\n:::\n\n\n\n\n\n## Up next\n\nDealing with **continuity** (which implies *infinity*) $\\rightarrow$ Calculus\n\n. . .\n\nTwo new operators:\n\n1. Derivatives **(Today)**\n\n2. Integrals **(Friday)**\n\n## Calculus\n\n::: incremental\n- This is often where people experience the most difficulty\n\n- We are now operating with whole functions!\n\n- New operators have new, different rules\n\n- We will stick together!\n\n:::\n\n## Derivatives as a slope\n\n:::: {.columns}\n\n::: {.column width=\"70%\"}\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](03_calc1_files/figure-revealjs/unnamed-chunk-1-1.png){fig-pos='center' width=960}\n:::\n:::\n\n\n:::\n\n::: {.column width=\"30%\"}\n\n::: incremental\n- How do we find the slope of this line?\n\n- $m = \\frac{f(x_2) - f(x_1)}{x_2-x_1} = \\frac{rise}{run}$\n\n- Let's try it out!\n\n:::\n\n:::\n\n::::\n\n## Derivatives as rate of change\n\n::: incremental\n- Positive derivative $\\rightarrow$ **Function is increasing**\n\n- Negative derivative $\\rightarrow$ **Function is decreasing**\n\n- Zeroes $\\rightarrow$ Max or min (more soon!)\n:::\n\n## Now try this one!\n\n$y = x^2$\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](03_calc1_files/figure-revealjs/unnamed-chunk-2-1.png){fig-pos='center' width=960}\n:::\n:::\n\n\n\n## Why doesn't it work?\n\n::: incremental\n- We need an operation to calculate the slope or *rate of change* for (almost) any kind of *continuous* function\n\n- Enter **derivatives**\n:::\n\n. . .\n\nGeneralize slope formula\n\n$$\nm = \\frac{f(x_1+ \\Delta x) - f(x_1)}{\\Delta x}\n$$\n\n## Derivatives\n\nWhen $\\Delta x$ is small enough\n\n$$\n\\lim_{\\Delta x\\to0} \\frac{f(x_1+ \\Delta x) - f(x_1)}{\\Delta x} = \\frac{d}{dx} f(x) = f'(x) \n$$\n\n::: incremental\n- Read $\\frac{d}{dx} f(x)$ as \"the derivative of $f$ of $x$ with respect to $x$\"\n\n- Read $f'(x)$ as \"$f$ prime $x$\" for a shorthand\n\n:::\n\n## How to compute a derivative?\n\n::: incremental\n- Plug in many values into $\\frac{rise}{run}$\n- Use properties of limits\n- Solve analytically\n- Software\n:::\n\n## How to compute a derivative?\n\n- Plug in many values into $\\frac{rise}{run}$\n- **Use properties of limits**\n- Solve analytically\n- Software\n\n## Using limits\n\n$$\n\\lim_{\\Delta x\\to0} \\frac{f(x_1+ \\Delta x) - f(x_1)}{\\Delta x}\n$$\n\n## Using limits\n\n$$\n\\lim_{h\\to0} \\frac{f(x_1+ h) - f(x_1)}{h}\n$$\n\n. . .\n\nBack to $x^2$\n\n. . .\n\n$$\n\\lim_{h \\to0} \\frac{f(x+ h)^2 - x^2}{h}\n$$\n\n## Using limits\n\n$$\n\\lim_{h\\to0} \\frac{f(x_1+ h) - f(x_1)}{h}\n$$\n\n\nBack to $x^2$\n\n\n$$\n\\lim_{h\\to0} \\frac{f(x+ h)^2 - x^2}{h} = \\lim_{h\\to0} \\frac{x^2 + 2xh + 2h^2 - x^2}{h}\n$$\n\n## Using limits\n\n$$\n\\lim_{h\\to0} \\frac{f(x_1+ h) - f(x_1)}{h}\n$$\n\n\nBack to $x^2$\n\n\n$$\n\\lim_{h\\to0} \\frac{f(x+ h)^2 - x^2}{h} = \\lim_{h\\to0} \\frac{x^2 + 2xh + 2h^2 - x^2}{h} = \\lim_{h \\to 0} \\frac{2xh + 2h^2}{h}\n$$\n\n\n\n## Using limits\n\n$$\n\\lim_{h\\to0} \\frac{f(x_1+ h) - f(x_1)}{h}\n$$\n\n\nBack to $x^2$\n\n\n$$\n\\lim_{h\\to0} \\frac{f(x+ h)^2 - x^2}{h} = \\lim_{h\\to0} \\frac{x^2 + 2xh + 2h^2 - x^2}{h} = \\lim_{h \\to 0} \\frac{2xh + 2h^2}{h}\n$$\n$$\n= \\lim_{h \\to 0} \\frac{(2x+2h) h}{h}\n$$\n\n## Using limits\n\n$$\n\\lim_{h\\to0} \\frac{f(x_1+ h) - f(x_1)}{h}\n$$\n\n\nBack to $x^2$\n\n\n$$\n\\lim_{h\\to0} \\frac{f(x+ h)^2 - x^2}{h} = \\lim_{h\\to0} \\frac{x^2 + 2xh + 2h^2 - x^2}{h} = \\lim_{h \\to 0} \\frac{2xh + 2h^2}{h}\n$$\n$$\n= \\lim_{h \\to 0} \\frac{(2x+2h) h}{h} = \\lim_{h \\to 0} 2x+2h\n$$\n\n\n## Using limits\n\n$$\n\\lim_{h\\to0} \\frac{f(x_1+ h) - f(x_1)}{h}\n$$\n\n\nBack to $x^2$\n\n\n$$\n\\lim_{h\\to0} \\frac{f(x+ h)^2 - x^2}{h} = \\lim_{h\\to0} \\frac{x^2 + 2xh + 2h^2 - x^2}{h} = \\lim_{h \\to 0} \\frac{2xh + 2h^2}{h}\n$$\n$$\n= \\lim_{h \\to 0} \\frac{(2x+2h) h}{h} = \\lim_{h \\to 0} 2x+2h\n$$\n$$\n=2x+0\n$$\n\n## Using limits\n\n$$\n\\lim_{h\\to0} \\frac{f(x_1+ h) - f(x_1)}{h}\n$$\n\n\nBack to $x^2$\n\n\n$$\n\\lim_{h\\to0} \\frac{f(x+ h)^2 - x^2}{h} = \\lim_{h\\to0} \\frac{x^2 + 2xh + 2h^2 - x^2}{h} = \\lim_{h \\to 0} \\frac{2xh + 2h^2}{h}\n$$\n$$\n= \\lim_{h \\to 0} \\frac{(2x+2h) h}{h} = \\lim_{h \\to 0} 2x+2h\n$$\n$$\n=2x+0 = 2x\n$$\n\n## How to compute a derivative?\n\n- Plug in many values into $\\frac{rise}{run}$\n- **Use properties of limits**\n- Solve analytically\n- Software\n\n## How to compute a derivative?\n\n- Plug in many values into $\\frac{rise}{run}$\n- Use properties of limits\n- **Solve analytically**\n- Software\n\n\n## Rules of differentiation\n\n. . .\n\n**Differentation:** \"Taking the derivative\"\n\n## Rules of differentiation\n\n**Constant rule:** $(c)' = 0$.\n\n. . .\n\n$y = 2$\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](03_calc1_files/figure-revealjs/unnamed-chunk-3-1.png){fig-pos='center' width=960}\n:::\n:::\n\n\n## Rules of differentiation\n\n<!-- Demonstrate by hand -->\n\n**Coefficient rule:** $(c \\cdot f(x))' = c \\cdot f'(x)$\n\n. . .\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](03_calc1_files/figure-revealjs/unnamed-chunk-4-1.png){fig-pos='center' width=960}\n:::\n:::\n\n\n## Rules of differentiation\n\n**Sum/difference rule:** $(f(x) \\pm g(x))' = f'(x) \\pm g'(x)$.\n\n. . .\n\nExample: $f(x) = 3x + 7$\n\n. . .\n\n$$\nf'(x) = (3x + 7)'\n$$\n\n. . .\n\n$$\n= (3x)' + (7)'\n$$\n\n. . .\n\n$$\n= 3 + 0\n$$\n\n. . .\n\n$$\n= 3\n$$\n\n## Rules of differentiation\n\n**Power rule:** $(x^n)'=nx^{(n-1)}$\n\n. . .\n\n$$\nf(x) = x^2\n$$\n\n. . .\n\n$$\nf'(x) = nx^{(n-1)}\n$$\n\n. . .\n\n$$\n= 2x^{(2-1)}\n$$\n\n. . .\n\n$$\n= 2x\n$$\n\n::: incremental\n- Rate of change depends on values of $x$\n- \"... at a given point\"\n:::\n\n## Practice\n\nLet's try out $\\frac{d}{dx}4x^3$ and $\\frac{d}{dx}(x^2 + 2x)$ on the board.\n\n## More practice\n\nUse the differentiation rules we have covered so far to calculate the derivatives of $y$ with respect to $x$ of as many as these as you can.\n\n1)  $y = 2x^2 + 10$\n2)  $y = 5x^4 - \\frac{2}{3}x^3$\n3)  $y = 9 \\sqrt x$\n4)  $y = \\frac{4}{x^2}$\n5)  $y = \\frac{2w}{5}$\n\n## Rules of differentiation\n\n**Exponent and logarithm rules:**\n\n$$\n\\begin{aligned}\n(c^x)' &= c^x \\cdot ln(c), & \\forall x>0 \\\\\n\\\\\n(log_a(x))' &= \\frac{1}{x \\cdot ln(a)}, & \\forall x>0  \\\\\n\\end{aligned}\n$$\n\n## Rules of differentiation\n\n**Exponent and logarithm rules:**\n\n[Euler's number](https://tinyurl.com/2j4a9ykc) ($e$) has interesting properties when it comes to derivatives.\n\n$$\n\\begin{aligned}\n(e^x)' &= e^x \\\\\n\\\\\n(ln(x))' &= \\frac{1}{x}, & \\forall x>0 \n\\end{aligned}\n$$\n\n## More more practice\n\nCompute the following:\n\n1)  $\\frac{d}{dx}(10e^x)$\n<!-- 10e^x -->\n2)  $\\frac{d}{dx}(ln(x) - \\frac{e^2}{3})$\n<!-- 1/x -->\n\n## Advanced rules\n\n**Product rule:** $(f(x)g(x))'=f'(x)g(x) + g'(x)f(x)$\n\n. . .\n\n$$\n[(3x+4)(x+2)]'\n$$\n\n. . .\n\n\n$$\nf(x) = (3x+4), g(x) = (x+2); f'(x) = 3, g'(x) = 1\n$$\n\n. . .\n\n$$\n\\color{blue}{f'(x)}\\color{yellow}{g(x)} + \\color{purple}{g'(x)}\\color{green}{f(x)}\n$$\n\n. . .\n\n$$\n= \\color{blue}3 \\color{yellow}{(x+2)} + \\color{purple}{1} \\color{green}{(3x+4)}\n$$\n\n. . .\n\n$$\n= 3x + 6 + 3x+ 4\n$$\n\n. . .\n\n$$\n= 6x + 10\n$$\n\n## Advanced rules\n\n**Quotient rule:** $\\displaystyle(\\frac{f(x)}{g(x)})' = \\frac{f'(x)g(x) + g'(x)f(x)}{[g(x)]^2}$\n\n. . .\n\n$$\n\\frac{3x^2}{x+2}\n$$\n\n## Advanced rules\n\n**Quotient rule:** $\\displaystyle(\\frac{f(x)}{g(x)})' = \\frac{f'(x)g(x) + g'(x)f(x)}{[g(x)]^2}$\n\n$$\n\\frac{3x^2}{x+2} \\Rightarrow f(x) = 3x^2, g(x) = x + 2; f'(x) = 6x, g'(x) = 1\n$$\n\n. . .\n\n$$\n\\frac{\\color{blue}{f'(x)}\\color{yellow}{g(x)} + \\color{purple}{g'(x)}\\color{green}{f(x)}}{[\\color{yellow}{g(x)}]^2} =\n\\frac{\\color{blue}{6x}\\color{yellow}{(x+2)} - \\color{purple}1 \\color{green}{(3x^2)}}{\\color{yellow}{(x+2)}^2}\n$$\n\n. . .\n\n$$\n= \\frac{6x^2 + 12x - 3x2}{(x+2)^2} = \\frac{3x^2+12x}{(x+2)^2}\n$$\n\n\n## Advanced rules\n\n**Chain rule:** $(f(g(x))' = f'(g(x)) \\cdot g'(x)$\n\n. . .\n\n$$\nf(g(x)) = (x+3)^3\n$$\n\n## Advanced rules\n\n**Chain rule:** $[f(g(x))]' = f'(g(x)) \\cdot g'(x)$\n\n$$\nf(g(x)) = (x+3)^3 \\Rightarrow f(g(x)) = g(x)^3, g(x) = (x+3)\n$$\n\n. . .\n\n$$\nf'(x) = 3x^2 \\Rightarrow f'(g(x)) = 3 (x+3)^2, g'(x) = 1\n$$\n\n. . .\n\nSubstitute\n\n$$\n[f(g(x))]' = 3(x+3)^2 \\cdot 1\n$$\n\n## More more more practice\n\n1)  $\\frac{d}{dx}x^3 \\cdot x$\n2)  $\\frac{d}{dx}e^x \\cdot x^2$\n3)  $\\frac{d}{dx}(3x^4-8)^2$\n\n## Higher-order derivatives\n\n::: incremental\n- $f'(x)$: First derivative\n- $f''(x)$: Second derivative\n- $f'''(x)$?\n:::\n\n. . .\n\nIf we were driving a car:\n\n-   $f(x)$ = distance traveled at time $x$\n-   $f'(x)$ = speed at time $x$\n-   $f''(x)$ = acceleration at time $x$\n\n. . .\n\nTo get $f''(x)$ just take the derivative of the output of $f'(x)$\n\n## Partial derivative\n\n. . .\n\nWhat happens when we have more than one variable? $f(x,z)$\n\n. . .\n\nPartial derivative\n\n$$ \n\\frac{\\partial}{\\partial_x}f(x,z) = \\frac{\\partial_y}{\\partial_x} = \\partial_x f\n$$\n\n. . .\n\nJust treat other variables as constants and calculate the derivative of the target variable (usually $x$)\n\n## Example\n\n$$\n\\begin{aligned}\ny = f(x,z) &= xz \\\\\n\\frac{\\partial_y}{\\partial_x} &= z\n\\end{aligned}\n$$\n\n. . .\n\nLet's try $\\displaystyle\\frac{\\partial (x^2y+xy^2-x)}{\\partial x}$ and $\\displaystyle\\frac{\\partial (x^2y+xy^2-x)}{\\partial y}$ together\n\n## Differentiability of functions\n\n::: incremental\n- Not all functions are differentiable\n- We need *continuous* and *reasonably smooth* functions\n- **Informally:** Can draw them without lifting the pen\n- **Formally:** A function is continuous at a point $a$ if: $\\lim_{x \\to a} f(x)=f(a)$\n- Differentiable $\\to$ continuous\n- Continuous $\\not\\to$ differentiable\n:::\n\n---\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](03_calc1_files/figure-revealjs/unnamed-chunk-5-1.png){fig-pos='center' width=960}\n:::\n:::\n\n\n## How to compute a derivative?\n\n- Plug in many values into $\\frac{rise}{run}$\n- Use properties of limits\n- **Solve analytically**\n- Software\n\n## How to compute a derivative?\n\n- Plug in many values into $\\frac{rise}{run}$\n- Use properties of limits\n- Solve analytically\n- **Software**\n\n## Using computers\n\n::: incremental\n- **Symbolic differentiation:** Do the math for you ([WolframAlpha](https://www.wolframalpha.com/calculators/derivative-calculator/) or [Mathematica](https://www.wolfram.com/mathematica/))\n- **Numerical differentiation:** Evaluate the function at many values (`optim()` in R)\n- **Automatic differentiation:** Break up functions into elementary operations and use chain rule (`torch` package in R, various packages in Python)\n:::\n\n\n## Optimization\n\n::: incremental\n- Find minimum or maximum values\n\n- Valleys are *minima*\n\n- Peaks are *maxima*\n\n- Both are *extrema*\n\n- Extrama can be *local* or *global*\n:::\n\n## First order condition\n\n::: incremental\n\n- **Minimum:** Derivative is negative before and positive after\n\n- **Maximum:** Derivative is positive before and negative after\n\n- Extrema are *critical points* \n\n- **First order condition** helps us find them\n:::\n\n. . .\n\n$$FOC: f'(x)=0$$\n\n## Second order condition\n\n. . .\n\nFOC finds critical points, but can't tell if minimum or maximum\n\n. . .\n\n**Second derivative test**\n\n::: incremental\n-   Start by identifying $f''(x)$\n\n-   Substitute in the stationary points $(x^*)$ identified from the FOC\n\n-   $f''(x^*) > 0$ we have a local minimum\n\n-   $f''(x^*) < 0$ we have a local maximum\n\n-   $f''(x^*) = 0$ we (may) have an inflection point - need to calculate higher-order derivatives\n:::\n\n## More more more more practice\n\nObtain FOC and SOC for $\\displaystyle y=\\frac{1}{2} x^3 + 3 x^2 - 2$\n\n\n```{=html}\n<iframe src=\"https://www.desmos.com/calculator/qccgx2ukl7?embed\" width=\"1000\" height=\"500\" style=\"border: 1px solid #ccc\" frameborder=0></iframe>\n```\n\n\n\n\n## Local vs. global extrema\n\n**Extreme value theorem:**\n\n::: incremental\n- If a real-valued function is *continuous on a closed and bounded (finite) interval*, the function *must have a global minimum and a global maximum* on that interval at least once\n\n- Either at the boundaries or at one of the local extrema\n\n- To find the minimum/maximum on some interval, compare the local min/max to the value of the function at the interval's endpoints. So, if the interval is $(-\\infty, +\\infty)$, check the function's limits as it approaches $-\\infty$ and $+\\infty$.\n:::\n",
    "supporting": [
      "03_calc1_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-after-body": [
        "\n<script>\n  // htmlwidgets need to know to resize themselves when slides are shown/hidden.\n  // Fire the \"slideenter\" event (handled by htmlwidgets.js) when the current\n  // slide changes (different for each slide format).\n  (function () {\n    // dispatch for htmlwidgets\n    function fireSlideEnter() {\n      const event = window.document.createEvent(\"Event\");\n      event.initEvent(\"slideenter\", true, true);\n      window.document.dispatchEvent(event);\n    }\n\n    function fireSlideChanged(previousSlide, currentSlide) {\n      fireSlideEnter();\n\n      // dispatch for shiny\n      if (window.jQuery) {\n        if (previousSlide) {\n          window.jQuery(previousSlide).trigger(\"hidden\");\n        }\n        if (currentSlide) {\n          window.jQuery(currentSlide).trigger(\"shown\");\n        }\n      }\n    }\n\n    // hookup for slidy\n    if (window.w3c_slidy) {\n      window.w3c_slidy.add_observer(function (slide_num) {\n        // slide_num starts at position 1\n        fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);\n      });\n    }\n\n  })();\n</script>\n\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}